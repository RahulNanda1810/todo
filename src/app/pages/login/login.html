<div class="auth-bg">
  <div class="auth-card">
    <div class="auth-header">
      <h1>Welcome ðŸ‘‹</h1>
      <p class="subtitle">Your smart personal task manager</p>
    </div>

    <div class="auth-tabs">
      <button
        type="button"
        class="tab"
        [class.active]="isLogin"
        (click)="switchMode(true)"
      >
        Login
      </button>
      <button
        type="button"
        class="tab"
        [class.active]="!isLogin"
        (click)="switchMode(false)"
      >
        Sign up
      </button>
    </div>

    <form class="auth-form" (ngSubmit)="onSubmit()">
      <div *ngIf="!isLogin" class="field">
        <label>Name</label>
        <input [(ngModel)]="name" name="name" />
      </div>

      <div class="field">
        <label>Email</label>
        <input [(ngModel)]="email" name="email" type="email" />
      </div>

      <div class="field">
        <label>Password</label>
        <input [(ngModel)]="password" name="password" type="password" />
      </div>

      <div *ngIf="!isLogin" class="password-rules">
        <p class="hint">Password rules:</p>
        <ul>
          <li>Minimum 6 characters</li>
          <li>Must include at least one uppercase letter</li>
          <li>Must include at least one lowercase letter</li>
          <li>Must include at least one special character (e.g. !@#$%)</li>
        </ul>
      </div>

      <button class="btn-primary" type="submit">
        {{ isLogin ? 'Login' : 'Sign up' }}
      </button>
    </form>

    <p class="error-text" *ngIf="error">{{ error }}</p>

    <button
      *ngIf="error && error.includes('not verified')"
      class="btn-primary"
      style="background:#64748b"
      (click)="resendVerification()"
    >
      Resend verification email
    </button>

    <p class="info-text" *ngIf="infoMessage">{{ infoMessage }}</p>
  </div>
</div>
